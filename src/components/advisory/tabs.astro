---
const tabs = [
  {
    label: "Invest as an individual",
    img: "/invest1.png",
    title: "Invest as an Individual",
    text: `<p>If you are a high-net-worth individual (HNI) or ultra HNI looking to diversify your investment portfolio with options that are well-guarded against market swings and economic uncertainty, this is the right place. We offer professionally managed private credit Alternative Investment Funds (AIFs) that provide predictable and stable returns, backed by our cautious underwriting process, proven track record, and highly experienced team with deep vintage.</p><p>Although the minimum investment mandated for AIFs is ₹1 crore, we can onboard you with a lower ticket size of ₹10 lakh if you are an accredited investor as per SEBI's Accredited Investors Framework, 2021.</p>`
  },
  {
    label: "Invest as a corporate treasury",
    img: "/invest4.png",
    title: "Invest as a Corporate Treasury",
    text: `<p>Investing surplus cash with a shorter investment horizon is a perennial requirement for corporate treasuries. Choosing a market instrument or investment vehicle that offers adequate protection from volatility, ensures timely liquidity, and delivers reasonable yields is essential.</p><p>If you are looking to park your funds with an experienced asset manager offering innovative products, this is the right place. We can help you invest in solutions that provide interim liquidity with an investment horizon of up to one year.</p>`
  },
  {
    label: "Invest as a family office",
    img: "/invest3.png",
    title: "Invest as a Family Office",
    text: `<p>Preserving wealth while enabling its appreciation is a key objective for family offices. Our experienced asset management team deeply understands their goals and investment policies, offering solutions with low correlation to public markets and higher risk-adjusted returns compared to traditional investment avenues.</p><p>If you are looking for products that align with your investment objectives and risk preferences, we encourage you to get in touch with us.</p>`
  },
  {
    label: "Invest as a global citizen",
    img: "/invest2.png",
    title: "Invest as a Global Citizen",
    text: `<p>If you are a global citizen, such as a Non-Resident Indian (NRI), Foreign Portfolio Investor (FPI), or Foreign Institutional Investor (FII), and wish to participate in India's growth story, we can help. With us, you can invest in a simple and hassle-free manner through GIFT City, India's first International Financial Services Centre (IFSC).</p><p>Our suite of existing and upcoming products focuses on innovative structuring and supports financial inclusion for Indian SMEs and women-led businesses. The minimum investment required is US$150,000.</p>`
  }
];

let active = 0;
---

<div class="container px-4 mx-auto py-[30px] sm:py-[70px]">
  
  <!-- Tab Headers -->
  <div
    id="tabs"
    class="flex gap-4 overflow-x-auto no-scrollbar cursor-grab active:cursor-grabbing 
           border border-dashed border-[#F58220] p-2"
  >
    {
      tabs.map((tab, index) => (
        <button
          class={`whitespace-nowrap px-4 py-3 transition
                  ${active === index ? "gradient_blue_bg text-white" : "bg-white gradient-text"}`}
          onclick={`document.dispatchEvent(new CustomEvent('set-tab', { detail: ${index} }))`}
        >
          {tab.label}
        </button>
      ))
    }
  </div>

  <!-- Tab Content -->
  <div id="tab-content" class="mt-4 bg-white pt-[0px] sm:pt-[60px]">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-15 items-start">
      
      <!-- LEFT COLUMN: IMAGE -->
      <img src={tabs[active].img} alt="" class="w-full h-auto" />

      <!-- RIGHT COLUMN: TEXT -->
      <div class="tab_contents">
        <h2 class="mb-3 gradient-text text-[35px] leading-[40px] font-poppins">{tabs[active].title}</h2>

        <!-- render HTML text -->
        <div class="text-gray-700 leading-relaxed tab_contents space-y-3" set:html={tabs[active].text}></div>
      </div>
    </div>
  </div>

</div>


<!-- JS with access to frontmatter tabs -->
<script define:vars={{ tabs }}>
  document.addEventListener("set-tab", (e) => {
    const index = e.detail;

    // Update header tab styles
    document.querySelectorAll("#tabs button").forEach((btn, i) => {
      if (i === index) {
        btn.classList.add("gradient_blue_bg", "text-white");
        btn.classList.remove("bg-white", "gradient-text");
      } else {
        btn.classList.add("bg-white", "gradient-text");
        btn.classList.remove("gradient_blue_bg", "text-white");
      }
    });

    // Update main content
    document.getElementById("tab-content").innerHTML = `
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-15 items-start">
        <img src="${tabs[index].img}" class="w-full h-auto" />
        <div class="tab_contents">
          <h2 class="mb-3 gradient-text text-[35px] leading-[40px] font-poppins">${tabs[index].title}</h2>
          <div class="text-gray-700 leading-relaxed space-y-3">
            ${tabs[index].text}
          </div>
        </div>
      </div>`;
  });


  /* -------------------------------
     DRAGGABLE TABS (mouse + touch)
  -------------------------------- */
  const tabContainer = document.getElementById("tabs");
  let isDown = false;
  let startX;
  let scrollLeft;

  tabContainer.addEventListener("mousedown", (e) => {
    isDown = true;
    startX = e.pageX - tabContainer.offsetLeft;
    scrollLeft = tabContainer.scrollLeft;
  });
  tabContainer.addEventListener("mouseleave", () => (isDown = false));
  tabContainer.addEventListener("mouseup", () => (isDown = false));
  tabContainer.addEventListener("mousemove", (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - tabContainer.offsetLeft;
    tabContainer.scrollLeft = scrollLeft - (x - startX) * 1.5;
  });

  // Touch support
  tabContainer.addEventListener("touchstart", (e) => {
    isDown = true;
    startX = e.touches[0].pageX - tabContainer.offsetLeft;
    scrollLeft = tabContainer.scrollLeft;
  });
  tabContainer.addEventListener("touchend", () => (isDown = false));
  tabContainer.addEventListener("touchmove", (e) => {
    if (!isDown) return;
    const x = e.touches[0].pageX - tabContainer.offsetLeft;
    tabContainer.scrollLeft = scrollLeft - (x - startX) * 1.5;
  });
</script>


<style>
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    scrollbar-width: none;
  }
  #tabs button {
    flex: 1;
  }
  .gradient_blue_bg{
    background: #3BBAE2;
    background: linear-gradient(337deg, rgba(59, 186, 226, 1) 0%, rgba(0, 1, 138, 1) 100%);
  }
</style>
